<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org" lang="en"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<head th:insert="fragments/head :: headtag">
    
    <body>
    <!-- Start: Header Section -->
    <header id="header-v1" class="navbar-wrapper inner-navbar-wrapper"
            th:insert="fragments/menu :: head(page='ADMIN')">
    </header>
    <!-- End: Header Section -->
        <!-- End: Header Section -->
        
        <!-- Start: Page Banner -->
        <section class="page-banner services-banner">
            <div class="container">
                <div class="banner-header">
                    <h2>User Page</h2>
                    <span class="underline center"></span>
                    <p class="lead">Users to action on</p>
                </div>
                <div class="breadcrumb">
                    <ul>
                        <li><a th:href="@{/}">Home</a></li>
                        <li>Dashboard</li>
                    </ul>
                </div>
            </div>
        </section>
        <!-- End: Page Banner -->
        <!-- Start: Cart Section -->
        <div id="content" class="site-content">
            <div id="primary" class="content-area">
                <main id="main" class="site-main">
                    <div class="cart-main">
                        <div class="container">
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="page type-page status-publish hentry">
                                        <div class="entry-content">
                                            <div class="woocommerce table-tabs" id="responsiveTabs">
                                                <div class="tab-content">
                                                    <div id="sectionA" class="tab-pane fade in active">
                                                        <div class="col-md-4 col-sm-4">
                                                            <div class="filter-result"
                                                                 th:with="num = ${userPage.numberOfElements==0?0:1}"
                                                                 th:text="'Showing items '+ ${userPage.number * userPage.size + num} + ' to ' + ${userPage.number * userPage.size + userPage.numberOfElements} + ' of ' + ${userPage.totalElements} + ' total'"></div>
                                                        </div>
                                                            <table
                                                                    class="table table-busered shop_table cart">
                                                                <thead>
                                                                    <tr>
                                                                        <th
                                                                                class="product-name">Name</th>
                                                                        <th
                                                                                class="product-name">Login</th>
                                                                        <th
                                                                                class="product-name">Role</th>
                                                                        <th
                                                                                class="product-name">Status</th>
                                                                        <th class="product-name">Action</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr
                                                                            class="user_item"  th:each="user :  ${userPage.content}">
                                                                        <td data-title="Product" class="product-name">
                                                                             <span class="product-detail">
                                                                                 <span th:text="${user.name}"></span>

                                                                            </span>
                                                                        </td>
                                                                        <td data-title="Product" class="product-name">
                                                                                <span class="product-detail">
                                                                                <span th:text="${user.login}"></span>
                                                                                </span>
                                                                        </td>
                                                                        <td data-title="Product" class="product-name">
                                                                                <span class="product-detail">
                                                                                <span th:text="${user.role}"></span>
                                                                            </span>
                                                                        </td>
                                                                        <td data-title="Product" class="product-name">
                                                                                <span class="product-detail">
                                                                                <span th:text="${user.status}"></span>
                                                                            </span>
                                                                        </td>
                                                                        <td
                                                                                class="user" th:if="${user.status.name() == 'ACTIVE'}">
                                                                               <a class="btn btn-primary user-block" th:rel="${user.id}">Block user</a>
                                                                        </td>
                                                                        <td
                                                                                class="close-user" th:if="${user.status.name() == 'BLOCKED'}">
                                                                            <a class="btn btn-primary user-activate" th:rel="${user.id}">Activate user</a>
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                    </div>
                                                    <nav class="navigation pagination text-center">
                                                        <h2 class="screen-reader-text">Posts navigation</h2>
                                                        <div class="nav-links">
                                                            <ul>
                                                                <li class="prev page-numbers">
                                                                    <a
                                                                            th:if="${userPage.number > 0}"
                                                                       th:with="urlBuilder=${T(org.springframework.web.servlet.support.ServletUriComponentsBuilder).fromCurrentRequest()}"
                                                                       th:href="@{${urlBuilder.replaceQueryParam('page', __${userPage.number-1}__).build().toUriString()}}">
                                                                        <i class="fa fa-long-arrow-left"></i> Previous</a></li>
                                                                <li
                                                                        th:if="${userPage.totalPages > 0}"  th:each="pageNumber: ${#numbers.sequence(1, userPage.totalPages)}" th:class="${pageNumber==userPage.number+1} ? 'page-numbers current' : 'page-numbers'"  >
                                            <span
                                                    th:if="${pageNumber==userPage.number+1}"  th:text=${pageNumber}></span>
                                                                    <a
                                                                            th:unless="${pageNumber==userPage.number+1}"
                                                                            th:with="urlBuilder=${T(org.springframework.web.servlet.support.ServletUriComponentsBuilder).fromCurrentRequest()}"
                                                                            th:href="@{${urlBuilder.replaceQueryParam('page', __${pageNumber-1}__).build().toUriString()}}"
                                                                            th:text=${pageNumber}></a>

                                                                </li>
                                                                <li class="next page-numbers"><a
                                                                        th:with="urlBuilder=${T(org.springframework.web.servlet.support.ServletUriComponentsBuilder).fromCurrentRequest()}"
                                                                        th:if="${userPage.number < userPage.totalPages - 1}"
                                                                        th:href="@{${urlBuilder.replaceQueryParam('page', __${userPage.number+1}__).build().toUriString()}}">Next <i
                                                                        class="fa fa-long-arrow-right"></i></a></li>
                                                            </ul>
                                                        </div>
                                                    </nav>
                                                </div>
                                            </div>
                                        </div><!-- .entry-content -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </main>
            </div>
        </div>
        <!-- End: Cart Section -->

    <!-- Start: Footer -->
    <footer class="site-footer" th:insert="fragments/footer :: footer">
    </footer>
    <!-- End: Footer -->
    <th:block th:insert="~{fragments/scripts :: script}"></th:block>
    </body>


</html>